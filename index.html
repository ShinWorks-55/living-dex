<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Living Dex â€” PokÃ©ball Dex</title>

    <!-- React + ReactDOM (CDN) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/framer-motion@11/dist/framer-motion.umd.js"></script>

    <!-- Babel (lets the browser understand JSX inside the page) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      body { margin: 0; background: #06070c; color: white; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
      .center { min-height: 100vh; display: grid; place-items: center; }
      .card { max-width: 860px; padding: 24px; border: 1px solid rgba(255,255,255,0.12); border-radius: 18px; background: rgba(255,255,255,0.04); }
      a { color: #34d399; }
    </style>
  </head>

  <body>
    <div id="root" class="center">
      <div class="card">
        <h1>Loading PokÃ©ball Dexâ€¦</h1>
        <p>If this doesnâ€™t change in a few seconds, weâ€™ll fix one setting next.</p>
      </div>
    </div>

    <!-- Load YOUR app file from the repo -->
    <script type="text/babel" data-presets="react">
      // Weâ€™ll load your JSX file (committed in the repo) and mount it.
      // GitHub Pages serves files from the repo root, so this path matches your file name exactly:
      const APP_URL = "./living_dex_tracker_pokeball_dex_react.jsx";

      async function start() {
        const res = await fetch(APP_URL);
        const code = await res.text();

        // Evaluate the JSX module-like code in the browser
        // This expects the file to export default function App() { ... }
        const exports = {};
        const module = { exports };

        // Wrap the code so "export default" becomes module.exports.default
        const wrapped = code.replace("export default function App(", "module.exports.default = function App(");


        // Run it
        const compiled = Babel.transform(wrapped, { presets: ["react"] }).code;
        new Function("React", "ReactDOM", "module", "exports", compiled)(React, ReactDOM, module, exports);

        const App = module.exports.default;
        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(React.createElement(App));
      }

      start().catch((e) => {
        document.getElementById("root").innerHTML =
          "<div class='card'><h2>It crashed ðŸ˜­</h2><pre style='white-space:pre-wrap;color:#fca5a5;'>" +
          String(e) +
          "</pre><p>Reply here with what you see and Iâ€™ll fix it with you.</p></div>";
      });
    </script>
  </body>
</html>
